<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' ,fullScreenBackdrop:true}"></ngx-loading>

<div class="wrapper">
  <app-sidebar></app-sidebar>
  <app-header></app-header>

  <div class="page-wrapper">
    <div class="page-content">
      <!--breadcrumb-->
      <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-4">
        <div class="breadcrumb-title pe-3">Property</div>
        <div class="ps-3">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0 p-0">
              <li class="breadcrumb-item"><a href="javascript:void(0);" routerLink="/dashboard"><i class="bx bx-home-alt"></i></a></li>
              <li class="breadcrumb-item active" aria-current="page">Add Property</li>
            </ol>
          </nav>
        </div>
      </div>
<!-- Form Section -->
<div class="row">
    <div class="col-xl-7 mx-auto">
      <div class="card border-top border-0 border-4 border-brand">
        <div class="card-body p-5">
          <div class="card-title d-flex align-items-center">
            <div></div>
            <h5 class="mb-0 brand-color">Add FloorPlan</h5>
          </div>
          <hr>

          <form [formGroup]="floorData" class="row">
  <!-- Number of Floorplans Field -->
  <div class="col-8">
    <div class="form-group pb-4">
      <label class="form-label m-0" for="floorplan">Number of Floorplans</label>
      <input
        type="number"
        class="form-control"
        id="floorplan"
        formControlName="floorplan"
        [ngClass]="{ 'is-invalid': submitted && f.floorplan.errors }"
        readonly
      />
      <div *ngIf="submitted && f.floorplan.errors" class="errormessage orange-color">
        Number of Floorplans is required and must be at least 1.
      </div>
    </div>
  </div>

  <!-- Add Floorplan Button -->
  <div class="col-2">
    <div class="form-group pb-4">
      <label class="form-label m-0"></label>
      <button type="button" class="form-control" (click)="handleClick(1)">+</button>
    </div>
  </div>

  <div class="col-2">
    <div class="form-group pb-4">
      <label class="form-label m-0"></label>
      <button type="button" class="form-control" (click)="handleClick(-1)">-</button>
    </div>
  </div>

  <!-- Dynamic Floorplans Fields -->
  <div formArrayName="floorplans" class="col-12">
    <div *ngFor="let floorplan of floorplans.controls; let i = index" [formGroupName]="i" class="row">
      <div class="col-12">
        <input
          type="text"
          class="form-control mb-2"
          formControlName="name"
          placeholder="Enter floorplan name"
          [ngClass]="{ 'is-invalid': submitted && floorplan.get('name')?.errors }"
        />
        <div *ngIf="submitted && floorplan.get('name')?.errors" class="errormessage orange-color">
          Floorplan name is required.
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="col-12 pt-4 d-flex justify-content-center" *ngIf="floorplans.controls.length > 0">
    <button type="button" class="btn custom-btn brand-btn px-5 me-5" (click)="service.back()">Back</button>
    <button type="submit" class="btn custom-btn brandsecundary-btn px-5" (click)="onSubmit()">Next</button>
  </div>
</form>

          
        </div>
      </div>
    </div>
  </div>
  
  
      <!-- <div class="row">
        <div class="col-xl-7 mx-auto">
          <div class="card border-top border-0 border-4 border-brand">
            <div class="card-body p-5">
              <div class="card-title d-flex align-items-center">
                <div></div>
                <h5 class="mb-0 brand-color">Add FloorPlan</h5>
              </div>
              <hr>

              <form [formGroup]="floorData" class="row" (ngSubmit)="onSubmit()">
               
                <div class="col-10">
                  <div class="form-group pb-4">
                    <label class="form-label m-0" for="floorplan">Number of Floorplan</label>
                    <input type="text" class="form-control" id="floorplan" formControlName="floorplan" [ngClass]="{ 'is-invalid': submitted && f.floorplan.errors }">
                    <div *ngIf="submitted && f.floorplan.errors" class="errormessage orange-color">
                        Number of Floorplan is required
                    </div>
                  </div>
                </div>
                <div class="col-2">
                    <div class="form-group pb-4">
                      <label class="form-label m-0" ></label>
                      <input type="button" value="+" class="form-control">
                    </div>
                  </div>
             
                <div class="col-12 pt-4 d-flex justify-content-center">
                  <button type="button" class="btn custom-btn brand-btn px-5 me-5" (click)="service.back()">Back</button>
                  <button type="submit" class="btn custom-btn brandsecundary-btn px-5"  >Next</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div> -->

      <!--end row-->

    </div>
  </div>

  <app-footer></app-footer>
</div>
